<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù…Ù¾ÛŒÙ† - Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#2563EB',
                            dark: '#1E40AF',
                            light: '#3B82F6',
                        },
                    },
                    fontFamily: {
                        dana: ['DanaVF', 'Tahoma', 'Arial', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
        @font-face {
            font-family: 'DanaVF';
            src: url('../../assets/fonts/DanaVF.ttf') format('truetype');
            font-weight: 100 900;
            font-display: swap;
        }
        body {
            font-family: 'DanaVF', Tahoma, Arial, sans-serif;
        }
        /* Mobile menu transition */
        .sidebar-overlay {
            transition: opacity 0.3s;
        }
        .sidebar-panel {
            transition: transform 0.3s;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Mobile Header -->
    <header class="lg:hidden bg-white border-b border-gray-200 sticky top-0 z-40">
        <div class="flex items-center justify-between px-4 py-3">
            <button onclick="toggleMobileMenu()" class="p-2 rounded-lg hover:bg-gray-100 transition-colors" aria-label="Ù…Ù†Ùˆ">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
            <div class="text-lg font-bold text-primary">ğŸ¯ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</div>
            <button class="p-2 rounded-lg hover:bg-gray-100 transition-colors" onclick="location.href='create-campaign.html'">
                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebarOverlay" class="sidebar-overlay fixed inset-0 bg-black/50 z-40 lg:hidden hidden" onclick="toggleMobileMenu()"></div>

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="sidebar-panel fixed right-0 top-0 bottom-0 w-64 bg-white border-l border-gray-200 z-50 translate-x-full lg:translate-x-0">
        <div class="p-6 border-b border-gray-200">
            <div class="text-xl font-bold text-primary flex items-center gap-2">
                ğŸ¯ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
            </div>
        </div>
        <nav class="p-4">
            <ul class="space-y-1">
                <li>
                    <a href="dashboard.html" class="flex items-center gap-3 px-4 py-3 rounded-lg bg-primary/10 text-primary font-medium transition-colors">
                        <span class="text-xl">ğŸ“Š</span>
                        <span>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</span>
                    </a>
                </li>
                <li>
                    <a href="create-campaign.html" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                        <span class="text-xl">â•</span>
                        <span>Ú©Ù…Ù¾ÛŒÙ† Ø¬Ø¯ÛŒØ¯</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                        <span class="text-xl">ğŸ“‹</span>
                        <span>Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                        <span class="text-xl">ğŸ‘¥</span>
                        <span>Ø´Ø±Ú©Ø§ÛŒ ÙØ±ÙˆØ´</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                        <span class="text-xl">ğŸ’°</span>
                        <span>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                        <span class="text-xl">âš™ï¸</span>
                        <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <!-- Language Switcher -->
        <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200">
            <a href="../en/dashboard.html" class="flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 rounded-lg text-gray-600 hover:bg-gray-200 transition-colors text-sm">
                ğŸŒ English
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="lg:mr-64 min-h-screen">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
            <!-- Desktop Header -->
            <header class="hidden lg:flex items-center justify-between mb-6 bg-white rounded-xl p-6 shadow-sm">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</h1>
                    <p class="text-gray-600 text-sm">Ø®Ù„Ø§ØµÙ‡ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§</p>
                </div>
                <div class="flex gap-3">
                    <button class="inline-flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                        ğŸ“Š Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§
                    </button>
                    <button class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors shadow-sm hover:shadow-md" onclick="location.href='create-campaign.html'">
                        <span class="text-lg font-bold">+</span> Ú©Ù…Ù¾ÛŒÙ† Ø¬Ø¯ÛŒØ¯
                    </button>
                </div>
            </header>

            <!-- Stats Cards -->
            <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <span class="text-sm text-gray-600">Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„</span>
                        <span class="text-2xl">ğŸ¯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-900 mb-1">Û±Û²</div>
                    <div class="text-sm text-green-600">+Û² Ø§Ø² Ù…Ø§Ù‡ Ù‚Ø¨Ù„</div>
                </div>

                <div class="bg-gradient-to-br from-primary to-primary-dark text-white p-5 rounded-xl shadow-md">
                    <div class="flex justify-between items-start mb-3">
                        <span class="text-sm opacity-90">Ú©Ù„ Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§</span>
                        <span class="text-2xl">ğŸ’°</span>
                    </div>
                    <div class="text-3xl font-bold mb-1">Û´ÛµÛ°Ù…</div>
                    <div class="text-sm opacity-80">+Û±ÛµÙª Ø§ÛŒÙ† Ù…Ø§Ù‡</div>
                </div>

                <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <span class="text-sm text-gray-600">Ø´Ø±Ú©Ø§ÛŒ ÙØ¹Ø§Ù„</span>
                        <span class="text-2xl">ğŸ‘¥</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-900 mb-1">Û²Û¸Ûµ</div>
                    <div class="text-sm text-green-600">+Û³Û² Ø´Ø±ÛŒÚ© Ø¬Ø¯ÛŒØ¯</div>
                </div>

                <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex justify-between items-start mb-3">
                        <span class="text-sm text-gray-600">ÙØ±ÙˆØ´ Ø§ÛŒÙ† Ù…Ø§Ù‡</span>
                        <span class="text-2xl">ğŸ“ˆ</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-900 mb-1">Û±,Û²Û´Û³</div>
                    <div class="text-sm text-green-600">+Û²ÛµÙª Ø§Ø² Ù…Ø§Ù‡ Ù‚Ø¨Ù„</div>
                </div>
            </section>

            <!-- Navigation Tabs -->
            <nav class="flex flex-wrap gap-2 bg-white p-3 rounded-xl mb-6 shadow-sm">
                <button class="tab px-4 py-2 border-none rounded-lg cursor-pointer text-sm font-medium hover:bg-gray-100 transition-all bg-primary text-white" data-tab="all">Ù‡Ù…Ù‡ Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§</button>
                <button class="tab px-4 py-2 border-none rounded-lg cursor-pointer text-sm font-medium text-gray-600 hover:bg-gray-100 transition-all" data-tab="active">ÙØ¹Ø§Ù„</button>
                <button class="tab px-4 py-2 border-none rounded-lg cursor-pointer text-sm font-medium text-gray-600 hover:bg-gray-100 transition-all" data-tab="draft">Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³</button>
                <button class="tab px-4 py-2 border-none rounded-lg cursor-pointer text-sm font-medium text-gray-600 hover:bg-gray-100 transition-all" data-tab="completed">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</button>
            </nav>

            <!-- Filters -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-white p-4 rounded-xl mb-6 shadow-sm">
                <div class="flex flex-col gap-2">
                    <label for="search" class="text-xs font-medium text-gray-600">Ø¬Ø³ØªØ¬Ùˆ</label>
                    <input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ù…Ù¾ÛŒÙ†..." class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm transition-all focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/10">
                </div>
                <div class="flex flex-col gap-2">
                    <label for="panel" class="text-xs font-medium text-gray-600">Ù¾Ù†Ù„</label>
                    <select id="panel" class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm transition-all focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/10">
                        <option value="">Ù‡Ù…Ù‡ Ù¾Ù†Ù„â€ŒÙ‡Ø§</option>
                        <option value="partner">Ø´Ø±ÛŒÚ©</option>
                        <option value="snap">Ø§Ø³Ù†Ù¾</option>
                        <option value="pishkhan">Ù¾ÛŒØ´Ø®ÙˆØ§Ù†</option>
                    </select>
                </div>
                <div class="flex flex-col gap-2">
                    <label for="dateRange" class="text-xs font-medium text-gray-600">Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</label>
                    <select id="dateRange" class="w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm transition-all focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/10">
                        <option value="">Ù‡Ù…Ù‡ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§</option>
                        <option value="today">Ø§Ù…Ø±ÙˆØ²</option>
                        <option value="week">Ø§ÛŒÙ† Ù‡ÙØªÙ‡</option>
                        <option value="month">Ø§ÛŒÙ† Ù…Ø§Ù‡</option>
                    </select>
                </div>
            </div>

            <!-- Campaign List -->
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mb-6" id="campaignList">
                <!-- Campaign cards will be populated here -->
            </div>

            <!-- Empty State -->
            <div class="text-center py-16 px-6 bg-white rounded-xl shadow-sm hidden" id="emptyState">
                <div class="text-6xl mb-4">ğŸ“Š</div>
                <h3 class="text-xl mb-2 font-semibold text-gray-900">Ú©Ù…Ù¾ÛŒÙ†ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3>
                <p class="text-gray-600 mb-6">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø§ÙˆÙ„ÛŒÙ† Ú©Ù…Ù¾ÛŒÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯</p>
                <button class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors shadow-sm hover:shadow-md" onclick="location.href='create-campaign.html'">Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù…Ù¾ÛŒÙ†</button>
            </div>

            <!-- Quick Actions -->
            <section class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8">
                <button onclick="location.href='create-campaign.html'" class="bg-blue-50 border border-blue-200 p-6 rounded-xl cursor-pointer text-center hover:bg-blue-100 transition-colors group">
                    <div class="text-4xl mb-3">â•</div>
                    <div class="font-semibold text-primary group-hover:text-primary-dark">Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù…Ù¾ÛŒÙ† Ø¬Ø¯ÛŒØ¯</div>
                </button>
                <button onclick="alert('Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§')" class="bg-green-50 border border-green-200 p-6 rounded-xl cursor-pointer text-center hover:bg-green-100 transition-colors group">
                    <div class="text-4xl mb-3">ğŸ“Š</div>
                    <div class="font-semibold text-green-700 group-hover:text-green-800">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§</div>
                </button>
                <button onclick="alert('Ù…Ø¯ÛŒØ±ÛŒØª Ø´Ø±Ú©Ø§')" class="bg-purple-50 border border-purple-200 p-6 rounded-xl cursor-pointer text-center hover:bg-purple-100 transition-colors group">
                    <div class="text-4xl mb-3">ğŸ‘¥</div>
                    <div class="font-semibold text-purple-700 group-hover:text-purple-800">Ù…Ø¯ÛŒØ±ÛŒØª Ø´Ø±Ú©Ø§</div>
                </button>
            </section>
        </div>
    </main>

    <!-- Campaign Card Template -->
    <template id="campaignCardTemplate">
        <div class="bg-white rounded-xl p-5 shadow-sm transition-all hover:shadow-md hover:-translate-y-0.5 border border-gray-100">
            <div class="flex justify-between items-start mb-3">
                <div>
                    <h3 class="text-base font-semibold mb-1 campaign-title"></h3>
                    <span class="campaign-badge inline-block px-2.5 py-1 rounded-full text-xs font-medium"></span>
                </div>
                <div class="campaign-actions flex gap-1">
                    <button class="bg-transparent border-none text-base cursor-pointer p-1.5 rounded-lg transition-colors hover:bg-gray-100" title="ÙˆÛŒØ±Ø§ÛŒØ´">âœï¸</button>
                    <button class="bg-transparent border-none text-base cursor-pointer p-1.5 rounded-lg transition-colors hover:bg-gray-100" title="Ú©Ù¾ÛŒ">ğŸ“‹</button>
                    <button class="bg-transparent border-none text-base cursor-pointer p-1.5 rounded-lg transition-colors hover:bg-gray-100" title="Ù…Ø´Ø§Ù‡Ø¯Ù‡">ğŸ‘ï¸</button>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-3 mb-4 pb-4 border-b border-gray-200 text-sm">
                <div class="flex flex-col gap-0.5">
                    <span class="text-xs text-gray-500">Ù¾Ù†Ù„:</span>
                    <span class="text-gray-900 font-medium panel-value"></span>
                </div>
                <div class="flex flex-col gap-0.5">
                    <span class="text-xs text-gray-500">Ù…Ø¯Øª Ø²Ù…Ø§Ù†:</span>
                    <span class="text-gray-900 font-medium duration-value"></span>
                </div>
                <div class="flex flex-col gap-0.5">
                    <span class="text-xs text-gray-500">Ø¨Ø§Ø²Ù‡:</span>
                    <span class="text-gray-900 font-medium interval-value"></span>
                </div>
                <div class="flex flex-col gap-0.5">
                    <span class="text-xs text-gray-500">Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§:</span>
                    <span class="text-gray-900 font-medium companies-value"></span>
                </div>
                <div class="flex flex-col gap-0.5 col-span-2">
                    <span class="text-xs text-gray-500">Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†:</span>
                    <span class="text-gray-900 font-medium participants-value"></span>
                </div>
            </div>
            <div class="grid grid-cols-3 gap-3 text-center">
                <div>
                    <div class="text-lg font-semibold text-primary mb-0.5 stat-value">Û°</div>
                    <div class="text-xs text-gray-500">Ú©Ù„ ÙØ±ÙˆØ´</div>
                </div>
                <div>
                    <div class="text-lg font-semibold text-primary mb-0.5 stat-value">Û°</div>
                    <div class="text-xs text-gray-500">Ù¾Ø§Ø¯Ø§Ø´â€ŒÙ‡Ø§</div>
                </div>
                <div>
                    <div class="text-lg font-semibold text-primary mb-0.5 stat-value">Û°</div>
                    <div class="text-xs text-gray-500">Ø´Ø±Ú©Ø§</div>
                </div>
            </div>
        </div>
    </template>

    <script src="../script.js"></script>
    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            sidebar.classList.toggle('translate-x-full');
            overlay.classList.toggle('hidden');
        }

        // Close mobile menu on resize to desktop
        window.addEventListener('resize', function() {
            if (window.innerWidth >= 1024) {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebarOverlay');
                sidebar.classList.add('translate-x-full');
                sidebar.classList.remove('translate-x-full');
                overlay.classList.add('hidden');
            }
        });

        // Initialize campaign list
        document.addEventListener('DOMContentLoaded', function() {
            // Load campaigns from storage first
            if (typeof loadCampaignsFromStorage === 'function') {
                loadCampaignsFromStorage();
            }
            // Then load and display campaigns
            if (typeof loadCampaigns === 'function') {
                loadCampaigns('all');
            }
            // Setup filters and tabs
            if (typeof setupFilters === 'function') {
                setupFilters();
            }
            if (typeof setupTabs === 'function') {
                setupTabs();
            }
        });
    </script>
</body>
</html>
