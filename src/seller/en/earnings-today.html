<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Today's Earnings - Seller Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#2563EB',
                            dark: '#1E40AF',
                            light: '#3B82F6',
                        },
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-gray-50 pb-20 min-h-screen">
    <!-- Mobile Header -->
    <header class="bg-white p-4 shadow-sm sticky top-0 z-50">
        <div class="flex justify-between items-center">
            <button class="bg-transparent border-none text-xl cursor-pointer" onclick="history.back()">‚Üê Back</button>
            <h1 class="text-lg font-semibold">Today's Earnings</h1>
            <button class="bg-transparent border-none text-xl cursor-pointer rounded-lg p-2 hover:bg-gray-100 transition-colors" onclick="refreshToday()" title="Refresh">
                üîÑ
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="p-4 max-w-2xl mx-auto">
        
        <!-- Summary Cards -->
        <section class="mb-6">
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-gradient-to-br from-primary to-primary-dark text-white p-4 rounded-xl shadow-md">
                    <div class="text-3xl mb-2">üí∞</div>
                    <div class="text-2xl font-bold mb-1" id="todayTotal">3,000,000</div>
                    <div class="text-sm opacity-90">Earned Today</div>
                </div>

                <div class="bg-white p-4 rounded-xl shadow-sm">
                    <div class="text-3xl mb-2">üìù</div>
                    <div class="text-2xl font-bold mb-1 text-gray-900" id="totalSales">12</div>
                    <div class="text-sm text-gray-600">Total Sales</div>
                </div>

                <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-green-500">
                    <div class="text-3xl mb-2">‚úÖ</div>
                    <div class="text-2xl font-bold mb-1 text-green-600" id="qualifyingSales">4</div>
                    <div class="text-sm text-gray-600">Qualifying Sales</div>
                </div>

                <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-yellow-500">
                    <div class="text-3xl mb-2">‚è≥</div>
                    <div class="text-2xl font-bold mb-1 text-yellow-600" id="pendingSales">500,000</div>
                    <div class="text-sm text-gray-600">Pending Settlement</div>
                </div>
            </div>
        </section>

        <!-- Filter & Actions -->
        <section class="mb-6">
            <div class="flex gap-2 mb-3 flex-wrap">
                <button class="px-4 py-2 bg-primary text-white rounded-lg font-medium transition-colors hover:bg-primary-dark active" onclick="filterSales('all')">All Sales</button>
                <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors hover:bg-gray-300" onclick="filterSales('qualifying')">Qualifying Only</button>
                <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors hover:bg-gray-300" onclick="filterSales('campaign')">By Campaign</button>
            </div>
            <select class="w-full p-3 border border-gray-300 rounded-lg bg-white hidden" id="campaignFilter">
                <option value="">All Campaigns</option>
                <option value="1">Summer Special</option>
                <option value="2">Health Bonus</option>
                <option value="3">Third-party Quick</option>
            </select>
        </section>

        <!-- Sales Timeline -->
        <section class="mb-6">
            <h2 class="text-xl font-bold mb-1">Sales Timeline</h2>
            <p class="text-sm text-gray-600 mb-4">Auto-refreshes every 30 seconds</p>

            <div class="space-y-4" id="timelineList">
                
                <!-- Sale Item 1 - Success -->
                <div class="bg-white p-4 rounded-xl shadow-sm border-r-4 border-green-500 flex gap-4" data-type="qualifying">
                    <div class="text-sm font-semibold text-gray-600 whitespace-nowrap">10:45 AM</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">‚úÖ</span>
                            <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full">Reward Earned</span>
                        </div>
                        <div class="space-y-1 mb-3 text-sm">
                            <div class="flex gap-2">
                                <span class="text-gray-600">Company:</span>
                                <span class="font-medium">Asia (ÿ¢ÿ≥€åÿß)</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Category:</span>
                                <span class="font-medium">Third-party ‚Ä¢ 12 months</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Payment:</span>
                                <span class="font-medium">Cash</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Campaign:</span>
                                <span class="font-medium">Summer Special</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Status:</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded">Settled</span>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-gray-200">
                            <span class="text-sm text-gray-600">Reward:</span>
                            <span class="text-lg font-bold text-green-600 ml-2">+2,000,000 Tomans</span>
                        </div>
                    </div>
                </div>

                <!-- Sale Item 2 - Success -->
                <div class="bg-white p-4 rounded-xl shadow-sm border-r-4 border-green-500 flex gap-4" data-type="qualifying">
                    <div class="text-sm font-semibold text-gray-600 whitespace-nowrap">09:30 AM</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">‚úÖ</span>
                            <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full">Reward Earned</span>
                        </div>
                        <div class="space-y-1 mb-3 text-sm">
                            <div class="flex gap-2">
                                <span class="text-gray-600">Company:</span>
                                <span class="font-medium">Saman (ÿ≥ÿßŸÖÿßŸÜ)</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Category:</span>
                                <span class="font-medium">Third-party ‚Ä¢ 6 months</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Payment:</span>
                                <span class="font-medium">Touch Installment</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Campaign:</span>
                                <span class="font-medium">Summer Special</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Status:</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded">Settled</span>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-gray-200">
                            <span class="text-sm text-gray-600">Reward:</span>
                            <span class="text-lg font-bold text-green-600 ml-2">+1,000,000 Tomans</span>
                        </div>
                    </div>
                </div>

                <!-- Sale Item 3 - Pending -->
                <div class="bg-white p-4 rounded-xl shadow-sm border-r-4 border-yellow-500 flex gap-4" data-type="qualifying">
                    <div class="text-sm font-semibold text-gray-600 whitespace-nowrap">08:15 AM</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">‚è≥</span>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full">Pending Settlement</span>
                        </div>
                        <div class="space-y-1 mb-3 text-sm">
                            <div class="flex gap-2">
                                <span class="text-gray-600">Company:</span>
                                <span class="font-medium">Razi (ÿ±ÿßÿ≤€å)</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Category:</span>
                                <span class="font-medium">Body ‚Ä¢ 12 months</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Payment:</span>
                                <span class="font-medium">Cash</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Campaign:</span>
                                <span class="font-medium">Summer Special</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Status:</span>
                                <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded">Awaiting Settlement</span>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-gray-200">
                            <span class="text-sm text-gray-600">Expected Reward:</span>
                            <span class="text-lg font-bold text-yellow-600 ml-2">500,000 Tomans</span>
                        </div>
                    </div>
                </div>

                <!-- Sale Item 4 - Not Qualifying -->
                <div class="bg-white p-4 rounded-xl shadow-sm border-r-4 border-blue-500 flex gap-4" data-type="non-qualifying">
                    <div class="text-sm font-semibold text-gray-600 whitespace-nowrap">07:50 AM</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">‚ÑπÔ∏è</span>
                            <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full">No Reward</span>
                        </div>
                        <div class="space-y-1 mb-3 text-sm">
                            <div class="flex gap-2">
                                <span class="text-gray-600">Company:</span>
                                <span class="font-medium">Iran (ÿß€åÿ±ÿßŸÜ)</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Category:</span>
                                <span class="font-medium">Third-party ‚Ä¢ 3 months</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Payment:</span>
                                <span class="font-medium">Cash</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Status:</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded">Settled</span>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-gray-200 space-y-2">
                            <div class="flex items-start gap-2 text-sm">
                                <span class="text-xl">‚ÑπÔ∏è</span>
                                <span class="text-gray-700">Duration 3 months not eligible for current campaigns</span>
                            </div>
                            <div class="text-sm bg-yellow-50 p-2 rounded border border-yellow-200">
                                <strong>Tip:</strong> For Iran company, sell 6 or 12 month policies to earn rewards
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sale Item 5 - Not Qualifying (Already earned) -->
                <div class="bg-white p-4 rounded-xl shadow-sm border-r-4 border-blue-500 flex gap-4" data-type="non-qualifying">
                    <div class="text-sm font-semibold text-gray-600 whitespace-nowrap">06:30 AM</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">‚ÑπÔ∏è</span>
                            <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full">No Reward</span>
                        </div>
                        <div class="space-y-1 mb-3 text-sm">
                            <div class="flex gap-2">
                                <span class="text-gray-600">Company:</span>
                                <span class="font-medium">Asia (ÿ¢ÿ≥€åÿß)</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Category:</span>
                                <span class="font-medium">Third-party ‚Ä¢ 12 months</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Payment:</span>
                                <span class="font-medium">Cash</span>
                            </div>
                            <div class="flex gap-2">
                                <span class="text-gray-600">Status:</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded">Settled</span>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-gray-200 space-y-2">
                            <div class="flex items-start gap-2 text-sm">
                                <span class="text-xl">‚ÑπÔ∏è</span>
                                <span class="text-gray-700">Already earned from Asia today (First purchase only rule)</span>
                            </div>
                            <div class="text-sm bg-yellow-50 p-2 rounded border border-yellow-200">
                                <strong>Tip:</strong> Try selling from Saman or Razi for more rewards today
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Empty State -->
            <div class="bg-white p-8 rounded-xl shadow-sm text-center hidden" id="emptyTimeline">
                <div class="text-5xl mb-4">üìä</div>
                <h3 class="text-xl font-bold mb-2">No Sales Yet Today</h3>
                <p class="text-gray-600">Your sales will appear here in real-time</p>
            </div>

        </section>

        <!-- Quick Actions -->
        <section class="grid grid-cols-2 gap-3">
            <button class="bg-white border border-gray-300 p-4 rounded-xl flex flex-col items-center gap-2 cursor-pointer hover:bg-gray-50 transition-colors" onclick="location.href='dashboard.html'">
                <span class="text-2xl">üè†</span>
                <span class="font-medium">Back to Campaigns</span>
            </button>
            <button class="bg-white border border-gray-300 p-4 rounded-xl flex flex-col items-center gap-2 cursor-pointer hover:bg-gray-50 transition-colors" onclick="location.href='earnings-history.html'">
                <span class="text-2xl">üí∞</span>
                <span class="font-medium">View All Earnings</span>
            </button>
        </section>

    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 flex justify-around py-2 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] z-50 md:hidden">
        <a href="dashboard.html" class="flex-1 flex flex-col items-center gap-1 p-2 text-gray-500 no-underline transition-colors">
            <span class="text-2xl">üè†</span>
            <span class="text-[11px] font-medium">Home</span>
        </a>
        <a href="earnings-today.html" class="flex-1 flex flex-col items-center gap-1 p-2 text-primary no-underline transition-colors">
            <span class="text-2xl">üìä</span>
            <span class="text-[11px] font-medium">Today</span>
        </a>
        <a href="earnings-history.html" class="flex-1 flex flex-col items-center gap-1 p-2 text-gray-500 no-underline transition-colors">
            <span class="text-2xl">üí∞</span>
            <span class="text-[11px] font-medium">Earnings</span>
        </a>
        <a href="profile.html" class="flex-1 flex flex-col items-center gap-1 p-2 text-gray-500 no-underline transition-colors">
            <span class="text-2xl">‚öôÔ∏è</span>
            <span class="text-[11px] font-medium">Settings</span>
        </a>
    </nav>

    <script src="../script.js"></script>
    <script>
        let autoRefreshInterval;

        function filterSales(type) {
            const items = document.querySelectorAll('[data-type]');
            const buttons = document.querySelectorAll('button');
            const campaignFilter = document.getElementById('campaignFilter');
            
            // Update active button
            buttons.forEach(btn => {
                if (btn.textContent.includes('All Sales') || btn.textContent.includes('Qualifying') || btn.textContent.includes('Campaign')) {
                    btn.classList.remove('active', 'bg-primary', 'text-white');
                    btn.classList.add('bg-gray-200', 'text-gray-700');
                }
            });
            event.target.classList.add('active', 'bg-primary', 'text-white');
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            
            // Show/hide campaign filter
            if (type === 'campaign') {
                campaignFilter.classList.remove('hidden');
            } else {
                campaignFilter.classList.add('hidden');
            }
            
            // Filter items
            if (type === 'all') {
                items.forEach(item => item.classList.remove('hidden'));
            } else if (type === 'qualifying') {
                items.forEach(item => {
                    if (item.dataset.type === 'qualifying') {
                        item.classList.remove('hidden');
                    } else {
                        item.classList.add('hidden');
                    }
                });
            }
        }

        function refreshToday() {
            const btn = event.target;
            btn.style.animation = 'spin 1s';
            
            // Simulate refresh
            setTimeout(() => {
                btn.style.animation = '';
                showToast('Data refreshed');
            }, 1000);
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            toast.style.cssText = 'position:fixed;bottom:100px;left:50%;transform:translateX(-50%);background:#333;color:white;padding:12px 24px;border-radius:8px;z-index:9999;';
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 2000);
        }

        // Auto-refresh every 30 seconds
        function startAutoRefresh() {
            autoRefreshInterval = setInterval(() => {
                console.log('Auto-refreshing data...');
                // In real app, fetch new data from API
            }, 30000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            startAutoRefresh();
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (autoRefreshInterval) {
                clearInterval(autoRefreshInterval);
            }
        });
    </script>
</body>
</html>
